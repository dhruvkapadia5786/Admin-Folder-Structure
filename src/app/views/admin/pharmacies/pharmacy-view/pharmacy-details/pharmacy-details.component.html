<div class="container-fluid pharmDetails padtb10">
  <ng-container *ngIf="pharmDetails; else noPharmacyDetails ">

    <div class="p-2 d-flex justify-content-between align-items-center bg-dark-grey">
       <h4 class="font-weight-normal text-white">Pharmacy Details</h4>
       <div>
         <!-- href="#searchPharmacyModal" data-target="#searchPharmacyModal" -->
          <!-- <a class="btn btn-primary" data-toggle="modal" ><i class="fa fa-search mr-2" aria-hidden="true"></i>Search Pharmacy</a> -->
          <a routerLink="/admin/pharmacies/edit/{{pharmId}}" routerLinkActive="active" class="btn btn-primary"><i class="fa fa-pencil mr-2" aria-hidden="true"></i>Edit</a>
       </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="table-responsive">
              <table class="table table-hover">
                    <tr>
                      <td class="font-weight-bold">System Pharmacy ID</td>
                      <td class="font-weight-normal"># {{pharmDetails._id }}</td>
                    </tr>
                    <tr>
                      <td class="font-weight-bold">Pharmacy Name</td>
                      <td class="font-weight-normal">{{pharmDetails.pharmacy_name}}</td>
                    </tr>
                    <tr>
                      <td class="font-weight-bold">Registration Date</td>
                      <td class="font-weight-normal">{{helper.getFormattedDateFromUnixTimestamp(pharmDetails.created_at)}}</td>
                    </tr>
                    <tr>
                      <td class="font-weight-bold">Phone No</td>
                      <td class="font-weight-normal">{{pharmDetails.phone_number | mask: '(000) 000-0000'}}</td>
                    </tr>
                    <tr>
                      <td  class="font-weight-bold">FAX No</td>
                      <td class="font-weight-normal">{{pharmDetails.fax_number | mask: '(000) 000-0000'}}</td>
                    </tr>
                    <tr>
                      <td  class="font-weight-bold">Active</td>
                      <td  class="font-weight-normal"><i  [ngClass]="{'fa':true,'fa-check text-success': pharmDetails.is_active, 'fa-times text-danger': !pharmDetails.is_active}"></i></td>
                    </tr>
              </table>
            </div>
        </div>
        <div class="col-md-6">
            <div class="table-responsive">
                <table class="table table-hover">
                    <tr *ngFor="let keyPair of pharmDetails.other_details">
                      <td  class="font-weight-bold">{{keyPair.key}}</td>
                      <td class="font-weight-normal">{{keyPair.value}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

      <div class="p-2 bg-dark-grey">
        <h4 class="font-weight-normal text-white">Pharmacy Addresses</h4>
      </div>
      <table class="table table-sm">
        <thead class="thead-light">
          <tr>
            <th>Address Line 1</th>
            <th>Address Line 2</th>
            <th>City</th>
            <th>State</th>
            <th>ZipCode</th>
            <th>Active</th>
            <th>Default</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let address of pharmDetails.practice_addresses;let i=index">
            <td>
              <p class="font-weight-normal mb-0">{{address.address_line_1 }}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0" *ngIf="address.address_line_2">{{address.address_line_2 }}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{address.city }}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{address.state }}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{address.zip_code }}</p>
            </td>
            <td class="text-center">
              <p><i class="fa" [ngClass]="{'fa-check text-success': address.is_active==true, 'fa-times text-danger': address.is_active!=true}"></i>
              </p>
            </td>
            <td class="text-center">
              <p><i class="fa" [ngClass]="{'fa-check text-success': address.is_default==true, 'fa-times text-danger': address.is_default!=true}"></i>
              </p>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="p-2 bg-dark-grey">
        <h4 class="font-weight-normal text-white">Pharmacy Licenses</h4>
      </div>
      <table class="table table-sm table-hover">
        <thead class="thead-light">
          <tr>
            <th>#</th>
            <th>License Number</th>
            <th>Expiry Date</th>
            <th>State</th>
            <th>Active</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let license of pharmDetails.licenses;let i=index">
            <td>
              <p class="font-weight-normal mb-0">#{{i+1}}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{license.license_number}}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{license.expiry_date | date: 'MM/dd/yyyy'}}</p>
            </td>
            <td>
              <p class="font-weight-normal mb-0">{{license.state_name}}</p>
            </td>
            <td>
              <p><i class="fa" [ngClass]="{'fa-check text-success': license.is_active==true, 'fa-times text-danger': license.is_active!=true}"></i>
              </p>
            </td>
          </tr>
        </tbody>
      </table>

  </ng-container>
  <ng-template #noPharmacyDetails>
    <div class="text-center text-muted">
      <h2><i class="fa fa-info-circle"></i></h2>
      <h4>Pharmacy Details Not Available!</h4>
    </div>
  </ng-template>
</div>
