<div class="w-100 p-2 bg-dark-grey d-flex justify-content-between align-items-center">
      <h4 class="text-white font-weight-bold mb-0">OTC Drugs List
        <span class="badge badge-success ml-2 p-2">{{config.totalItems}}</span>
      </h4>
      <div>
      <a   [routerLink]="'/admin/products/add'" [queryParams]="{product_type: 'DRUG',drug_type:'OTC'}"  routerLinkActive="active" class="btn btn-primary"><i class="fa fa-plus mr-2" aria-hidden="true"></i> Add OTC Drug</a>
      </div>
</div>

<div class="p-2">
    <div class="row mb-3">
        <div class="col-md-3">
          <mat-label>Categories</mat-label>
          <mat-select placeholder="Select OTC Categories" (selectionChange)="handleChange('CATEGORIES', $event.value)" [(ngModel)]="config.filter.CATEGORIES" multiple>
            <mat-checkbox class="mat-option ckb1" (click)="$event.stopPropagation()" color="primary" (change)="handleCheckAll($event, 'CATEGORIES')"
            [indeterminate]="config.filter.CATEGORIES.length && notSelectedCategories"
            [checked]="!notSelectedCategories">All</mat-checkbox>
            <mat-option color="primary" *ngFor="let category of categoriesSubcategoriesList" [value]="category.id">{{category.name}}</mat-option>
          </mat-select>
        </div>
    </div>


    <ng-container *ngIf="!loading && collection.count > 0;">
              <div class="row">
                      <div class="col-lg-4 col-md-4 col-12 mb-3" *ngFor="let product of collection.data | paginate: config">
                              <div class="card border h-100">
                                      <div class="product-image-container">
                                      <img *ngIf="product.image_url" [src]="getProductImage(product.image_url)"  class="product-image"  />
                                      </div>
                                      <div class="card-body">
                                      <h6>{{product.drugdb_drug_information_display_name}}</h6>
                                      <p class="font-weight-bold">{{product.dosage_name+' - '+product.form_name}}</p>
                                      <p style="font-size:12px;" [ngClass]="{'badge badge-pill p-2':true,'badge-success':product.is_active , 'badge-warning':product.is_coming_soon,'badge-danger':!product.is_active && !product.is_coming_soon}">
                                          <span *ngIf="product.is_active">Active</span>
                                          <span *ngIf="!product.is_active && !product.is_coming_soon">Not Active</span>
                                          <span *ngIf="product.is_coming_soon">Coming Soon</span>
                                      <p>
                                      <button type="button"  (click)="goToDetailsPage(product._id)" class="btn btn-sm btn-block btn-primary">View</button>
                                      </div>
                              </div>
                      </div>
              </div>
              <div class="text-center mt-2">
                      <pagination-controls  id="pagination-controls___otc_order" (pageChange)="pageChanged($event)"></pagination-controls>
              </div>
    </ng-container>

    <ng-container  *ngIf="!loading && collection.count == 0;">
        <div class="alert alert-danger">
        <h4 class="mb-0 font-weight-normal">
            <i class="fa fa-exclamation-circle mr-2" aria-hidden="true"></i>
            No products found .
        </h4>
        </div>
    </ng-container>

</div>
